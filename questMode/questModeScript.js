const ArrayOfElements = [{
    isotopes: [206],
    nameElem: 'Hg',
    numberAtm: 80,
    nameExtensive: 'Mercúrio',
    type: 'Metal de transição'
},
{
    isotopes: [206, 207, 208, 209, 210],
    nameElem: 'Tl',
    numberAtm: 81,
    nameExtensive: 'Tálio',
    type: 'Outros Metais'
},
{
    isotopes: [209, 210, 211, 212, 214],
    nameElem: 'Pb',
    numberAtm: 82,
    nameExtensive: 'Chumbo',
    type: 'Outros Metais'
},
{
    isotopes: [210, 211, 212, 213, 214, 215],
    nameElem: 'Bi',
    numberAtm: 83,
    nameExtensive: 'Bismuto',
    type: 'Outros Metais'
},
{
    isotopes: [210, 211, 212, 213, 214, 215, 216, 218],
    nameElem: 'Po',
    numberAtm: 84,
    nameExtensive: 'Polônio',
    type: 'Semimetais'
},
{
    isotopes: [215, 217, 218, 219],
    nameElem: 'At',
    numberAtm: 85,
    nameExtensive: 'Astato',
    type: 'Halogênios'
},
{
    isotopes: [219, 220, 222],
    nameElem: 'Rn',
    numberAtm: 86,
    nameExtensive: 'Radônio',
    type: 'Gás nobre'
},
{
    isotopes: [221, 223],
    nameElem: 'Fr',
    numberAtm: 87,
    nameExtensive: 'Frâncio',
    type: 'Metal alcalino'
},
{
    isotopes: [223, 224, 225, 226, 228],
    nameElem: 'Ra',
    numberAtm: 88,
    nameExtensive: 'Radônio',
    type: 'Metal alcalino-terroso'
},
{
    isotopes: [225, 227, 228],
    nameElem: 'Ac',
    numberAtm: 89,
    nameExtensive: 'Actínio',
    type: 'Actinídeo'
},
{
    isotopes: [227, 228, 229, 230, 231, 232, 234],
    nameElem: 'Th',
    numberAtm: 90,
    nameExtensive: 'Tório',
    type: 'Actinídeo'
},
{
    isotopes: [231, 233, 234],
    nameElem: 'Pa',
    numberAtm: 91,
    nameExtensive: 'Protactínio',
    type: 'Actinídeo'
},
{
    isotopes: [233, 234, 235, 237, 238],
    nameElem: 'U',
    numberAtm: 92,
    nameExtensive: 'Urânio',
    type: 'Actinídeo'
},
{
    isotopes: [237],
    nameElem: 'Np',
    numberAtm: 93,
    nameExtensive: 'Netúnio',
    type: 'Actinídeo'
},
{
    isotopes: [241],
    nameElem: 'Pu',
    numberAtm: 94,
    nameExtensive: 'Plutônio',
    type: 'Actinídeo'
},
{
    isotopes: [241],
    nameElem: 'Am',
    numberAtm: 95,
    nameExtensive: 'Amerício',
    type: 'Actinídeo'
},
{
    isotopes: [247],
    nameElem: 'Cm',
    numberAtm: 96,
    nameExtensive: 'Curírio',
    type: 'Actinídeo'
},
{
    isotopes: [247],
    nameElem: 'Bk',
    numberAtm: 97,
    nameExtensive: 'Berkélio',
    type: 'Actinídeo'
},
{
    isotopes: [251],
    nameElem: 'Cf',
    numberAtm: 98,
    nameExtensive: 'Califórnio',
    type: 'Actinídeo'
},
{
    isotopes: [252],
    nameElem: 'Es',
    numberAtm: 99,
    nameExtensive: 'Einsteinio',
    type: 'Actinídeo'
},
{
    isotopes: [257],
    nameElem: 'Fm',
    numberAtm: 100,
    nameExtensive: 'Férmio',
    type: 'Actinídeo'
},
{
    isotopes: [258],
    nameElem: 'Md',
    numberAtm: 101,
    nameExtensive: 'Mendelevio',
    type: 'Actinídeo'
},
{
    isotopes: [259],
    nameElem: 'No',
    numberAtm: 102,
    nameExtensive: 'Nobelio',
    type: 'Actinídeo'
},
{
    isotopes: [262],
    nameElem: 'Lr',
    numberAtm: 103,
    nameExtensive: 'Laurêncio',
    type: 'Actinídeo'
},
{
    isotopes: [261],
    nameElem: 'Rf',
    numberAtm: 104,
    nameExtensive: 'Rutherfórdio',
    type: 'Metal de transição'
},
{
    isotopes: [262],
    nameElem: 'Db',
    numberAtm: 105,
    nameExtensive: 'Dúbnio',
    type: 'Metal de transição'
},
{
    isotopes: [266],
    nameElem: 'Sg',
    numberAtm: 106,
    nameExtensive: 'Seabórgio',
    type: 'Metal de transição'
},
{
    isotopes: [264],
    nameElem: 'Bh',
    numberAtm: 107,
    nameExtensive: 'Bóhrio',
    type: 'Metal de transição'
},
{
    isotopes: [277],
    nameElem: 'Hs',
    numberAtm: 108,
    nameExtensive: 'Hássio',
    type: 'Metal de transição'
},
{
    isotopes: [268],
    nameElem: 'Mt',
    numberAtm: 109,
    nameExtensive: 'Meitnério',
    type: 'Metal de transição'
},
{
    isotopes: [271],
    nameElem: 'Ds',
    numberAtm: 110,
    nameExtensive: 'Darmstádio',
    type: 'Metal de transição'
},
{
    isotopes: [272],
    nameElem: 'Rg',
    numberAtm: 111,
    nameExtensive: 'Roentgênio',
    type: 'Metal de transição'
},
{
    isotopes: [277],
    nameElem: 'Cn',
    numberAtm: 112,
    nameExtensive: 'Copernício',
    type: 'Metal de transição'
},
{
    isotopes: [286],
    nameElem: 'Nh',
    numberAtm: 113,
    nameExtensive: 'Nihônio',
    type: 'Outros Metais'
},
{
    isotopes: [289],
    nameElem: 'Fl',
    numberAtm: 114,
    nameExtensive: 'Fleróvio',
    type: 'Outros Metais'
},
{
    isotopes: [288],
    nameElem: 'Mc',
    numberAtm: 115,
    nameExtensive: 'Moscóvio',
    type: 'Outros Metais'
},
{
    isotopes: [293],
    nameElem: 'Lv',
    numberAtm: 116,
    nameExtensive: 'Livermório',
    type: 'Outros Metais'
},
{
    isotopes: [294],
    nameElem: 'Ts',
    numberAtm: 117,
    nameExtensive: 'Tenessino',
    type: 'Halogênio'
},
{
    isotopes: [294],
    nameElem: 'Og',
    numberAtm: 118,
    nameExtensive: 'Oganessônio',
    type: 'Gás nobre'
}];

const ArrSeries = [{
    nameSeries: "Tório",
    firstIsotope: "Th-232",
    lastIsotope: "Pb-208",
    isotopes: [{
        isotopes: [208],
        nameElem: "Tl",
        numberAtm: 81
    }, {
        isotopes: [208, 212],
        nameElem: "Pb",
        numberAtm: 82
    }, {
        isotopes: [212],
        nameElem: "Bi",
        numberAtm: 83
    }, {
        isotopes: [212, 216],
        nameElem: "Po",
        numberAtm: 84
    }, {
        isotopes: [220],
        nameElem: "Rn",
        numberAtm: 86
    }, {
        isotopes: [224, 228],
        nameElem: "Ra",
        numberAtm: 88
    }, {
        isotopes: [228],
        nameElem: "Ac",
        numberAtm: 89
    }, {
        isotopes: [228, 232],
        nameElem: "Th",
        numberAtm: 90
    }]
}, {
    nameSeries: "Netúnio",
    firstIsotope: "Np-237",
    lastIsotope: "Bi-209",
    isotopes: [{
        isotopes: [209],
        nameElem: "Tl",
        numberAtm: 81
    }, {
        isotopes: [209],
        nameElem: "Pb",
        numberAtm: 82
    }, {
        isotopes: [209, 213],
        nameElem: "Bi",
        numberAtm: 83
    }, {
        isotopes: [213],
        nameElem: "Po",
        numberAtm: 84
    }, {
        isotopes: [217],
        nameElem: "At",
        numberAtm: 85
    }, {
        isotopes: [221],
        nameElem: "Fr",
        numberAtm: 87
    }, {
        isotopes: [225],
        nameElem: "Ra",
        numberAtm: 88
    }, {
        isotopes: [225],
        nameElem: "Ac",
        numberAtm: 89
    }, {
        isotopes: [229],
        nameElem: "Th",
        numberAtm: 90
    }, {
        isotopes: [233],
        nameElem: "Pa",
        numberAtm: 91
    }, {
        isotopes: [233, 237],
        nameElem: "U",
        numberAtm: 92
    }, {
        isotopes: [237],
        nameElem: "Np",
        numberAtm: 93
    }, {
        isotopes: [241],
        nameElem: "Pu",
        numberAtm: 94
    }, {
        isotopes: [241],
        nameElem: "Am",
        numberAtm: 95
    }]
}, {
    nameSeries: "Urânio",
    firstIsotope: "U-238",
    lastIsotope: "Pb-206",
    isotopes: [{
        isotopes: [206],
        nameElem: "Hg",
        numberAtm: 80
    }, {
        isotopes: [206, 210],
        nameElem: "Tl",
        numberAtm: 81
    }, {
        isotopes: [206, 210, 214],
        nameElem: "Pb",
        numberAtm: 82
    }, {
        isotopes: [210, 214],
        nameElem: "Bi",
        numberAtm: 83
    }, {
        isotopes: [210, 214, 218],
        nameElem: "Po",
        numberAtm: 84
    }, {
        isotopes: [218],
        nameElem: "At",
        numberAtm: 85
    }, {
        isotopes: [222],
        nameElem: "Rn",
        numberAtm: 86
    }, {
        isotopes: [226],
        nameElem: "Ra",
        numberAtm: 88
    }, {
        isotopes: [230, 234],
        nameElem: "Th",
        numberAtm: 90
    }, {
        isotopes: [234],
        nameElem: "Pa",
        numberAtm: 91
    }, {
        isotopes: [234, 238],
        nameElem: "U",
        numberAtm: 92
    }]
}, {
    nameSeries: "Actínio",
    firstIsotope: "U-235",
    lastIsotope: "Pb-207",
    isotopes: [{
        isotopes: [207],
        nameElem: "Tl",
        numberAtm: 81
    }, {
        isotopes: [207, 211],
        nameElem: "Pb",
        numberAtm: 82
    }, {
        isotopes: [211, 215],
        nameElem: "Bi",
        numberAtm: 83
    }, {
        isotopes: [211, 215],
        nameElem: "Po",
        numberAtm: 84
    }, {
        isotopes: [215, 219],
        nameElem: "At",
        numberAtm: 85
    }, {
        isotopes: [219],
        nameElem: "Rn",
        numberAtm: 86
    }, {
        isotopes: [223],
        nameElem: "Fr",
        numberAtm: 87
    }, {
        isotopes: [223],
        nameElem: "Ra",
        numberAtm: 88
    }, {
        isotopes: [227],
        nameElem: "Ac",
        numberAtm: 89
    }, {
        isotopes: [227, 231],
        nameElem: "Th",
        numberAtm: 90
    }, {
        isotopes: [231],
        nameElem: "Pa",
        numberAtm: 91
    }, {
        isotopes: [235],
        nameElem: "U",
        numberAtm: 92
    }]
}];

//Verificacao de opcoes de audio
const effectsSound = new Audio("../click-21156.mp3");
effectsSound.volume = JSON.parse(localStorage.getItem("effectsSoundsRes")) ? 1 : 0;

document.getElementById("firstSelect").style.display = "flex";
document.getElementById("secondSelect").style.display = "none";
//Loop que cria as opcoes do primeiro seletor de elementos
ArrayOfElements.forEach(e => {
    ArrSeries.forEach(existElem => {
        existElem.isotopes.forEach(existIsot => {
            existIsot.nameElem == e.nameElem ? !document.getElementById("selectFirstIsotope").innerHTML.includes(`${e.nameElem}GroupFirst`) ? document.getElementById("selectFirstIsotope").innerHTML += `<optgroup class="opt-select-first" id="${e.nameElem}GroupFirst"></optgoup>` : false : false;
        });
    });
    e.isotopes.forEach(elem => {
        ArrSeries.forEach(i => {
            i.isotopes.forEach(ind => {
                if (ind.isotopes.includes(elem) && ind.numberAtm == e.numberAtm) document.getElementById(`${e.nameElem}GroupFirst`).innerHTML += `<option value="${elem}, ${e.nameElem}, ${e.numberAtm}">${e.nameElem} ${elem}</option>`;
            });
        });
    });
});
//Botao de passar para o proximo seletor
document.getElementById("buttonNext").addEventListener('click', () => {
    effectsSound.play();
    document.getElementById("firstSelect").style.display = "none";
    document.getElementById("secondSelect").style.display = "flex";
    let firstIsotope = document.getElementById("selectFirstIsotope").value;
    firstIsotope = firstIsotope.split(",");
    firstIsotope = firstIsotope.map(e => e.trim());
    let indexSeries = document.getElementById("selectFirstIsotope").value;
    indexSeries = indexSeries.split(",")[0] % 4;
    //Loop que cria as opcoes do segundo seletor de elementos
    ArrayOfElements.forEach(e => {
        ArrSeries.forEach(existElem => {
            existElem.isotopes.forEach(existIsot => {
                existIsot.nameElem == e.nameElem ? !document.getElementById("selectSecondIsotope").innerHTML.includes(`${e.nameElem}GroupSecond`) ? document.getElementById("selectSecondIsotope").innerHTML += `<optgroup class="opt-select-second" id="${e.nameElem}GroupSecond"></optgoup>` : false : false;
            });
        });
        e.isotopes.forEach(elem => {
            ArrSeries[indexSeries].isotopes.forEach(ind => {
                if (`${firstIsotope[1]}-${firstIsotope[0]}` != `${e.nameElem}-${elem}` && (ind.isotopes.includes(elem) && ind.numberAtm == e.numberAtm) && (parseInt(firstIsotope[2]) - ((parseInt(firstIsotope[0]) - elem) / 2) <= e.numberAtm) && (elem <= parseInt(firstIsotope[0]))) document.getElementById(`${e.nameElem}GroupSecond`).innerHTML += `<option value="${elem}, ${e.nameElem}, ${e.numberAtm}">${e.nameElem} ${elem}</option>`;
            });
        });
    });
    let lastIsotope = ArrSeries[indexSeries].lastIsotope;
    lastIsotope = lastIsotope.split("-");
    document.getElementById(`${lastIsotope[0]}GroupSecond`).innerHTML += `<option value="${lastIsotope[1]}, ${lastIsotope[0]}, ${JSON.stringify(ArrayOfElements.find(e => {if (e.nameElem == lastIsotope[0]) return e}).numberAtm)}">${lastIsotope[0]} ${lastIsotope[1]}</option>`;
    document.querySelectorAll(".opt-select-second").forEach(e => e.textContent == "" ? e.remove() : false);
});
let firstElement;
let lastElement;
//Botao que inicia o sistema
document.getElementById("buttonStart").addEventListener('click', () => {
    effectsSound.play();
    firstElement = document.getElementById("selectFirstIsotope").value;
    lastElement = document.getElementById("selectSecondIsotope").value;
    document.getElementById("inputContent").style.display = "none";
    document.getElementById("systemContent").style.display = "flex";
    StartSystem();
});
let arrElementsVisor = [];
let arrSignal = [];
let seriesNumber;
//Funcao que inicia o sistema
function StartSystem() {
    arrElementsVisor.push({
       weigth: parseInt(firstElement.split(",")[0]),
       nameElem: firstElement.split(",")[1].trim(),
       numberAtm: parseInt(firstElement.split(",")[2])  
    });
    seriesNumber = parseInt(firstElement.split(",")[0]) % 4;
    document.getElementById("decayType").innerHTML = `<b>${lastElement.split(",")[1]}-${lastElement.split(",")[0]}</b>`;
    AddElementsVisor();
};
//Funcao que mostra os elementos na tela
function AddElementsVisor() {
    document.getElementById("visor").innerHTML = "";
    for (let i = 0; i < arrElementsVisor.length; i++) {
        document.getElementById("visor").innerHTML += `
        <div class="element-visor" ${JSON.parse(localStorage.getItem("elementsColor")) ? `style="background-color:${ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Metal de transição" ? `rgb(242,176,177)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Outros Metais" ? `rgb(163,199,212)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Semimetais" ? `rgb(109,197,188)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Halogênios" ? `rgb(168,224,244)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Gás nobre" ? `rgb(102,177,222)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Metal alcalino" ? `rgb(246,201,96)` : ArrayOfElements[arrElementsVisor[i].numberAtm - 80].type == "Metal alcalino-terroso" ? `rgb(239,229,91)` : `rgb(228,189,218)`};"` : ``}>
            <div class="weigth-visor">
                ${arrElementsVisor[i].weigth}
            </div>
            <div class="name-visor">
                ${arrElementsVisor[i].nameElem}
            </div>
            <div class="number-visor">
                ${arrElementsVisor[i].numberAtm}
            </div>               
        </div>`;
        arrSignal[i] ? document.getElementById("visor").innerHTML += `
            <div class="signal-elements">
                ${arrSignal[i]} <i class="fa-solid fa-angles-right"></i>
            </div>` : false;
        document.getElementById("visor").scrollTop = document.getElementById("visor").scrollHeight;
    };
    if (`${arrElementsVisor[arrElementsVisor.length - 1].nameElem}-${arrElementsVisor[arrElementsVisor.length - 1].weigth}` == `${lastElement.split(",")[1].trim()}-${lastElement.split(",")[0]}`) { 
        document.getElementById("buttonsActionContent").innerHTML = `<div class="button-action-div">
                <button class="button-finish-decay" id="finishDecay">Finalizar</button>
            </div>
            <div class="button-action-div">
                <button class="button-action" id="delete"><i class="fa-solid fa-delete-left"></i></button>
        </div>`;
        document.getElementById("finishDecay").addEventListener('click', FinishDecayDescription);
        document.getElementById("delete").addEventListener('click', DeleteFunc);
    } else {
        document.getElementById("buttonsActionContent").innerHTML = `<div class="button-action-div">
                <button class="button-action" id="alpha">α</button>
            </div>
            <div class="button-action-div">
                <button class="button-action" id="beta">β</button>
            </div>
            <div class="button-action-div">
                <button class="button-action" id="delete"><i class="fa-solid fa-delete-left"></i></button>
        </div>`;
        document.getElementById("alpha").addEventListener('click', AlphaFunc);
        document.getElementById("beta").addEventListener('click', BetaFunc);
        document.getElementById("delete").addEventListener('click', DeleteFunc);
    };
};
let indexElem;
//Funcao alfa
function AlphaFunc() {
    effectsSound.play();
    let weigthAtm = arrElementsVisor[arrElementsVisor.length - 1].weigth;
    let numberAtm = arrElementsVisor[arrElementsVisor.length - 1].numberAtm;
    let nameElement = arrElementsVisor[arrElementsVisor.length - 1].nameElem;
    nameElement = nameElement.trim();
    //Verfica se a variavel ja contem o index do ultimo elemento
    if (!indexElem) {
        ArrayOfElements.forEach(e => {
            (e.nameElem == nameElement) ? indexElem = ArrayOfElements.indexOf(e) : false;
        });
    };
    //Verifica se a emissao e possivel
    let possibleDecay;
    ArrSeries[seriesNumber].isotopes.forEach(e => {
        if (e.nameElem == ArrSeries[seriesNumber].lastIsotope.split("-")[0]) possibleDecay = weigthAtm - 4 >= parseInt(ArrSeries[seriesNumber].lastIsotope.split("-")[1]) ? true : false;
    });
    let lastElement = ArrSeries[seriesNumber].lastIsotope.split("-");
    if (indexElem > 1 && !(nameElement == lastElement[0] && weigthAtm == parseInt(lastElement[1])) && possibleDecay) {
        //Realiza o decaimento alfa
        weigthAtm -= 4;
        numberAtm -= 2;
        indexElem -= 2;
        nameElement = ArrayOfElements[indexElem].nameElem;
        arrElementsVisor.push({
            weigth: weigthAtm,
            nameElem: nameElement,
            numberAtm: numberAtm
        });
        arrSignal.push("α");
        AddElementsVisor();
    } else {
        document.getElementById("alpha").style.backgroundColor = "brown";
        setTimeout(
            () => {
                document.getElementById("alpha").style.backgroundColor = "white";
            }
        , 500);
    };
};
//Funcao beta
function BetaFunc() {
    effectsSound.play();
    let weigthAtm = arrElementsVisor[arrElementsVisor.length - 1].weigth;
    let numberAtm = arrElementsVisor[arrElementsVisor.length - 1].numberAtm;
    let nameElement = arrElementsVisor[arrElementsVisor.length - 1].nameElem;
    nameElement = nameElement.trim();
    //Verfica se a variavel ja contem o index do ultimo elemento
    if (!indexElem) {
        ArrayOfElements.forEach(e => {
            (e.nameElem == nameElement) ? indexElem = ArrayOfElements.indexOf(e) : false;
        });
    };
    //Verifica se a emissao e possivel
    let possibleDecay;
    ArrSeries[seriesNumber].isotopes.forEach(e => {
        if (e.nameElem == ArrSeries[seriesNumber].lastIsotope.split("-")[0]) possibleDecay = (numberAtm + 1) - (((weigthAtm - parseInt(ArrSeries[seriesNumber].lastIsotope.split("-")[1])) / 4) * 2) <= e.numberAtm ? true : false;
    });
    let lastElement = ArrSeries[seriesNumber].lastIsotope.split("-");
    if (indexElem < ArrayOfElements.length - 1 && !(nameElement == lastElement[0] && weigthAtm == parseInt(lastElement[1])) && possibleDecay) {
        //Realiza o decaimento beta
        ++numberAtm;
        ++indexElem;
        nameElement = ArrayOfElements[indexElem].nameElem;
        arrElementsVisor.push({
            weigth: weigthAtm,
            nameElem: nameElement,
            numberAtm: numberAtm
        });
        arrSignal.push("β");
        AddElementsVisor();
    } else {
        document.getElementById("beta").style.backgroundColor = "brown";
        setTimeout(
            () => {
                document.getElementById("beta").style.backgroundColor = "white";
            }
        , 500);
    };
};
//Funcao de deletar o ultimo elemento
function DeleteFunc() {
    effectsSound.play();
    if (arrSignal.length != 0) {
        arrElementsVisor.pop();
        arrSignal.pop();
        weigthAtm = arrElementsVisor[arrElementsVisor.length - 1].weigth;
        numberAtm = arrElementsVisor[arrElementsVisor.length - 1].numberAtm;
        nameElement = arrElementsVisor[arrElementsVisor.length - 1].nameElem;
        nameElement = nameElement.trim();
        ArrayOfElements.forEach(e => {
            (e.nameElem == nameElement) ? indexElem = ArrayOfElements.indexOf(e) : false;
        });
        AddElementsVisor();
    };
};
document.getElementById("finishDescription").style.display = "none";
function FinishDecayDescription() {
    effectsSound.play();
    document.getElementById("finishDescription").style.display = "flex";
    document.getElementById("buttonExitFinishDescription").addEventListener('click', () => {
        effectsSound.play();
        document.getElementById("finishDescription").style.display = "none";
    });
    let numberElementsIncorrects = 0;
    arrElementsVisor.forEach(e => {
        let haveElement = false;
        ArrSeries[seriesNumber].isotopes.forEach(el => {
            return el.isotopes.includes(e.weigth) && el.numberAtm == e.numberAtm ? haveElement = true : false;
        });
        !haveElement ? numberElementsIncorrects++ : false;
    });
    let elementsIncorrects = ``;
    arrElementsVisor.forEach(e => {
        let haveElement = false;
        ArrSeries[seriesNumber].isotopes.forEach(el => {
            return el.isotopes.includes(e.weigth) && el.numberAtm == e.numberAtm ? haveElement = true : false;
        });
        if (!haveElement) elementsIncorrects += `${e.nameElem}-${e.weigth},`;
    });
    numberElementsIncorrects ? elementsIncorrects = elementsIncorrects.slice(0, elementsIncorrects.length - 1) : false;
    let textQuestMode = ``;
    textQuestMode += `<h2>Você acertou <strong style="color:${parseInt(((arrElementsVisor.length - numberElementsIncorrects) / arrElementsVisor.length) * 100) >= 80 ? "green" : parseInt(((arrElementsVisor.length - numberElementsIncorrects) / arrElementsVisor.length) * 100) >= 50 ? "yellow" : "brown"}">${parseInt(((arrElementsVisor.length - numberElementsIncorrects) / arrElementsVisor.length) * 100)}%</strong> do decaimento.</h2>`;
    textQuestMode += `<p>Esse decaimento se inicia no ${ArrayOfElements[parseInt(firstElement.split(",")[2]) - 80].nameExtensive} (${firstElement.split(",")[1].trim()}-${firstElement.split(",")[0]}) e termina com o ${ArrayOfElements[parseInt(lastElement.split(",")[2]) - 80].nameExtensive} (${lastElement.split(",")[1].trim()}-${lastElement.split(",")[0]}). Nesse decaimento você utilizou ${arrElementsVisor.length} elementos`;
    textQuestMode += numberElementsIncorrects ? `, ${numberElementsIncorrects > 1 ? `dos quais ${numberElementsIncorrects} não estão presentes` : `no qual apenas o ${elementsIncorrects} não está presente`} na série radioativa do ${ArrSeries[seriesNumber].nameSeries}.</p>` : ` e todos estão presentes na série radioativa do ${ArrSeries[seriesNumber].nameSeries}.</p>`;
    document.getElementById("finishDescriptionVisor").innerHTML = textQuestMode;
};